(window.webpackJsonp=window.webpackJsonp||[]).push([[106],{"0FZ2":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=p(n("XfWh")),a=p(n("q1tI")),o=(p(n("JPcv")),n("/MKj")),i=n("N5XD"),c=n("fArA"),s=n("7F85"),u=n("bC6D"),l=p(n("dGFZ")),f=p(n("tW1z"));function p(e){return e&&e.__esModule?e:{default:e}}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){d(e,t,n[t])})}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){return function(){var t,n=w(e);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var r=w(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,t)}}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(i,a.default.Component);var t,n,r,o=b(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).transformAdInfo=function(){return e.props.shareLink.get("adInfo").map(function(e){return encodeURIComponent(e)}).toJS()},e}return t=i,(n=[{key:"componentDidMount",value:function(){(0,this.props.loadAdInfo)(this.isSandbox())}},{key:"shouldComponentUpdate",value:function(){return!0!==this.props.shareLink.get("loaded")}},{key:"isSandbox",value:function(){return!0===this.props.config.get("isSandbox")}},{key:"getClasses",value:function(){var e=this.props;return(0,e.JSSWith)({shareLinkBar:{sticky:!e.displayStatic}})}},{key:"render",value:function(){var e=this.props,t=e.shareLink,n=e.displayStatic,r=e.isPreviewMode,o=e.trackShareLink;if(!1===t.get("loaded"))return null;var i=this.getClasses(),c={adInfo:this.transformAdInfo(),displayStatic:n,isPreviewMode:r,trackShareLink:o};return a.default.createElement("div",{className:i.shareLinkBar},a.default.createElement(l.default,k({},c,{channel:"facebook"})),a.default.createElement(l.default,k({},c,{channel:"facebookMessenger"})),a.default.createElement(l.default,k({},c,{channel:"twitter"})),u.Browser.hasTouchscreen?a.default.createElement(l.default,k({},c,{channel:"whatsapp"})):a.default.createElement(l.default,k({},c,{channel:"pinterest"})),a.default.createElement(l.default,k({},c,{channel:"email"})))}}])&&y(t.prototype,n),r&&y(t,r),i}();g.defaultProps=h(h({},i.JSSDefaultProps),{},{displayStatic:!1,isPreviewMode:!1});var v=(0,r.default)((0,i.withStyles)(f.default),(0,o.connect)(function(e){return{config:e.get("config"),shareLink:e.get("shareLink")}},function(e){return(0,c.bindActionCreators)({loadAdInfo:s.loadAdInfo,trackShareLink:s.trackShareLink},e)}))(g);t.default=v},"7F85":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=d,t.loadAdInfo=function(e){return function(t,n){if(e)return t(k({title:"Sandbox ad",seoUrl:"https://www.kijiji.ca",sharingImageUrl:"http://www.kijiji.ca"}));var r=n().getIn(["shareLink"]);return!0===r.get("loading")||!0===r.get("loaded")?null:(t({type:s}),t({promise:function(e){return e.get(o.SHARE_LINK_SERVICE).then(function(e){t(k(e.body))}).catch(function(){t({type:u})})}}))}},t.trackShareLink=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return{type:f,track:{event:i.EVENT_TYPE_SOCIAL,network:e,action:p,target:t}}},t.TRACKING_ACTION=t.CLICKED=t.LOAD_SUCCESS=t.LOAD_FAILURE=t.LOADING=void 0;var r=c(n("JPcv")),a=c(n("R6D8")),o=n("Aiks"),i=n("a0Td");function c(e){return e&&e.__esModule?e:{default:e}}var s="shareLink/LOADING";t.LOADING=s;var u="shareLink/LOAD_FAILURE";t.LOAD_FAILURE=u;var l="shareLink/LOAD_SUCCESS";t.LOAD_SUCCESS=l;var f="shareLink/CLICKED";t.CLICKED=f;var p="ShareAdBegin";t.TRACKING_ACTION=p;var h=r.default.fromJS({adInfo:{},loaded:!1,loading:!1});function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s:return e.merge({loading:!0});case u:return e.merge({loading:!1});case l:return e.merge({adInfo:t.data,loaded:!0,loading:!1});case f:default:return e}}function k(e){return{type:l,data:e}}a.default.register("shareLink",d)},cDO9:function(e,t,n){e.exports={shareLink__default:"shareLink__default-1808712150",shareLink__static:"shareLink__static-3702321469",shareLink__email:"shareLink__email-978531513",shareLink__facebook:"shareLink__facebook-4256317963",shareLink__facebookMessenger:"shareLink__facebookMessenger-775834858",shareLink__pinterest:"shareLink__pinterest-3444266799",shareLink__twitter:"shareLink__twitter-3968125872",shareLink__whatsapp:"shareLink__whatsapp-467283295",shareLinkIcon:"shareLinkIcon-1118708670",shareLinkIcon__email:"shareLinkIcon__email-401091451",shareLinkIcon__facebook:"shareLinkIcon__facebook-2744063645",shareLinkIcon__facebookMessenger:"shareLinkIcon__facebookMessenger-3573594089",shareLinkIcon__pinterest:"shareLinkIcon__pinterest-1173617095",shareLinkIcon__twitter:"shareLinkIcon__twitter-779074740",shareLinkIcon__whatsapp:"shareLinkIcon__whatsapp-1295966556",shareLinkIcon__default:"shareLinkIcon__default-520390224"}},dGFZ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=f(n("q1tI")),a=n("N5XD"),o=n("xH7M"),i=n("bC6D"),c=n("TkLQ"),s=f(n("PwKU")),u=f(n("tiI+")),l=f(n("cDO9"));function f(e){return e&&e.__esModule?e:{default:e}}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){d(e,t,n[t])})}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){return function(){var t,n=b(e);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()){var r=b(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,t)}}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var w=function(e,t){var n=(0,c.hasQueryParams)(t)?"&":"?",r=encodeURIComponent("".concat(n,"utm_source=").concat(e,"&utm_medium=social&utm_campaign=socialbuttons&utm_content=vip"));return"".concat(t).concat(r)},g={target:"_blank",rel:"noopener noreferrer"},v={email:{icon:"icon-share-mail",intlKey:"withEmail",name:"Email",shareUrl:function(e,t){return"mailto:?subject=".concat(t).concat(e.title,"&body=%0A%0A%0A").concat(e.seoUrl)}},facebook:{icon:"icon-share-facebook",intlKey:"withFacebook",name:"Facebook",popup:{height:661,width:555},shareUrl:function(e){return"https://www.facebook.com/sharer/sharer.php?u=".concat(w("facebook",e.seoUrl))},targetType:g},facebookMessenger:{icon:"icon-facebook-messenger",intlKey:"withFacebookMessenger",name:"Facebook Messenger",shareUrl:function(e){var t="".concat(w("facebook-messenger",e.seoUrl));return i.Browser.isPhone?"fb-messenger://share?link=".concat(t):"http://www.facebook.com/dialog/send?app_id=1292765327416975&link=".concat(t,"&redirect_uri=").concat(t)},targetType:i.Browser.isPhone?void 0:g},pinterest:{icon:"icon-share-pinterest",intlKey:"withPinterest",name:"Pinterest",shareUrl:function(e){return"http://www.pinterest.com/pin/create/button/?description=".concat(e.title,"&media=").concat(e.sharingImageUrl,"&url=").concat(w("pinterest",e.seoUrl))},targetType:g},twitter:{icon:"icon-twitter",intlKey:"withTwitter",name:"Twitter",popup:{height:350,width:550},shareUrl:function(e){return"https://twitter.com/intent/tweet?text=".concat(e.title,"&url=").concat(w("twitter",e.seoUrl))},targetType:g},whatsapp:{icon:"icon-share-whats-app",intlKey:"withWhatsApp",name:"WhatsApp",shareUrl:function(e){return"whatsapp://send?text=".concat(w("whatsapp",e.seoUrl))}}},m=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(i,r.default.Component);var t,n,a,o=_(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).onClick=function(t){var n=e.props,r=n.adInfo,a=n.channel,o=n.trackShareLink;t.preventDefault();var i=e.sharingUrl(),c=v[a],s=c.name,u=c.popup,l=c.targetType,f=l?l.target:"_self",p=u?"width=".concat(u.width,",height=").concat(u.height):"";o(s,decodeURIComponent(r.seoUrl)),window.open(i,f,p).opener=null},e}return t=i,(n=[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"getClasses",value:function(){var e=this.props,t=e.JSSWith,n=e.channel,r=e.displayStatic,a={email:"email"===n,facebook:"facebook"===n,facebookMessenger:"facebookMessenger"===n,pinterest:"pinterest"===n,twitter:"twitter"===n,whatsapp:"whatsapp"===n};return t({shareLink:h({default:!r,static:r},a),shareLinkIcon:h({default:!r,static:r},a)})}},{key:"sharingUrl",value:function(){var e=this.props,t=e.adInfo,n=e.channel,r=e.intl,a=encodeURIComponent(r("social","emailSubjectPrefix"));return v[n].shareUrl(t,a)}},{key:"render",value:function(){var e=this.props,t=e.channel,n=e.isPreviewMode,a=e.intl;if(void 0===v[t])return null;var o=this.getClasses(),i=v[t].icon,c=a("social",v[t].intlKey),l=v[t].targetType,f=r.default.createElement(s.default,{glyph:i,className:o.shareLinkIcon,title:c});return n?r.default.createElement("span",{className:"".concat(o.shareLink," ").concat(t)},f):r.default.createElement(u.default,p({className:"".concat(o.shareLink," ").concat(t),href:this.sharingUrl()},l,{title:c,onClick:this.onClick,variant:"noStyle"}),f)}}])&&k(t.prototype,n),a&&k(t,a),i}();m.defaultProps=h(h({},a.JSSDefaultProps),{},{displayStatic:!1,isPreviewMode:!1});var L=(0,o.withIntl)()((0,a.withStyles)(l.default)(m));t.default=L},tW1z:function(e,t,n){e.exports={shareLinkBar:"shareLinkBar-3072315719",shareLinkBar__sticky:"shareLinkBar__sticky-4057324774"}}}]);