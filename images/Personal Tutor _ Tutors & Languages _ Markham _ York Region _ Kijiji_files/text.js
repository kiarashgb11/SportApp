Kj.Sponsors=function(){var a={},b=function(){0===$("#AFSTop").children().length&&$("#AFSTop").hide(),0===$("#AFSShop").children().length&&$("#AFSShop").hide(),0===$("#AFSBottom").children().length&&$("#AFSBottom").hide(),!1===a.keepTopBar&&c()},c=function(){$("#AFSTop").length&&0===$("#AFSTop").children().length&&$(".text-top-bar").eq(0).hide()};return{"init":function(b){a.opts=b,a.sponsorChain=[],a.maxAds="number"==typeof b.maxAds?b.maxAds:6,a.remainingAds="number"==typeof b.maxAds?b.maxAds:6,a.keepTopBar="boolean"==typeof b.keepTopBar&&b.keepTopBar},"chain":function(b){return"function"!=typeof b.getMaxAds?void console.log("Sponsor does not have getMaxAds() function; not chaining this sponsor!"):"function"!=typeof b.setMaxAds?void console.log("Sponsor does not have setMaxAds() function; not chaining this sponsor!"):"function"!=typeof b.doFilter?void console.log("Sponsor does not have doFilter() function; not chaining this sponsor!"):void a.sponsorChain.push(b)},"doFilter":function(c){var d;if(0===a.sponsorChain.length||0===a.remainingAds)return void b();if(void 0!==c&&(a.remainingAds-=c),d=a.sponsorChain.shift(),a.maxAds!==a.remainingAds)d.setMaxAds(a.remainingAds);else{var e=d.getMaxAds();a.remainingAds>e&&d.setMaxAds(e)}d.doFilter()}}}();